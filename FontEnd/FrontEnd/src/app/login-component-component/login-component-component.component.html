<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
<div class="login-container">
  <div class="card shadow-lg rounded-3">
    <div class="card-header bg-primary text-white text-center py-4 rounded-top-3">
      <h2 class="card-title mb-0 fs-3 fw-bold">Employee Login</h2>
    </div>
    <div class="card-body p-4">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="username" class="form-label fw-semibold">Username:</label>
          <input
            type="text"
            id="username"
            formControlName="username"
            class="form-control form-control-lg rounded-pill"
            [ngClass]="{ 'is-invalid': f['username'].invalid && f['username'].touched }"
            autocomplete="username"
            placeholder="Enter your username"
          >
          @if (f['username'].invalid && f['username'].touched) {
            <div class="invalid-feedback">
              Username is required.
            </div>
          }
        </div>

        <div class="mb-3">
          <label for="password" class="form-label fw-semibold">Password:</label>
          <input
            type="password"
            id="password"
            formControlName="password"
            class="form-control form-control-lg rounded-pill"
            [ngClass]="{ 'is-invalid': f['password'].invalid && f['password'].touched }"
            autocomplete="current-password"
            placeholder="Enter your password"
          >
          @if (f['password'].invalid && f['password'].touched) {
            <div class="invalid-feedback">
              Password is required.
            </div>
          }
        </div>

        @if (errorMessage) {
          <div class="alert alert-danger mt-3 rounded-3" role="alert">
            <i class="bi bi-exclamation-triangle-fill me-2"></i> {{ errorMessage }}
          </div>
        }

        @if (successMessage) {
          <div class="alert alert-success mt-3 rounded-3" role="alert">
            <i class="bi bi-check-circle-fill me-2"></i> {{ successMessage }}
          </div>
        }

        <button type="submit" class="btn btn-primary btn-lg w-100 mt-4 rounded-pill shadow-sm" [disabled]="loginForm.invalid || isLoading">
          @if (isLoading) {
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            Logging in...
          } @else {
            <i class="bi bi-box-arrow-in-right me-2"></i>Login
          }
        </button>
      </form>
    </div>
    <div class="card-footer text-center py-3">
      <p class="mb-0 fs-6">
        <a routerLink="/admin-login" class="text-decoration-none text-primary fw-medium">Login as Admin</a>
        <span class="mx-2 text-muted">|</span>
        <a routerLink="/" class="text-decoration-none text-secondary fw-medium">Back to Home</a>
      </p>
    </div>
  </div>
</div>
